{% extends 'base.html' %}

{% block title %}Quiz Result - Quiz Master{% endblock %}

{% block content %}
<div class="container py-4">
    <div class="result-container">
        <div class="text-center mb-4">
            <h1>Quiz Completed!</h1>
            <p class="text-muted">Here's how you performed</p>
        </div>
        
        <div class="card mb-4">
            <div class="card-header bg-primary text-white">
                <h5 class="mb-0">Score Summary</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6 mb-3 mb-md-0">
                        <div class="text-center">
                            <div class="result-score text-primary">{{ score.score }}/{{ score.total_questions }}</div>
                            <div class="text-muted">Your Score</div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="text-center">
                            <div class="result-score text-success">{{ (score.score / score.total_questions * 100)|round|int }}%</div>
                            <div class="text-muted">Percentage</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="card mb-4">
            <div class="card-header bg-primary text-white">
                <h5 class="mb-0">Quiz Details</h5>
            </div>
            <div class="card-body">
                <table class="table">
                    <tbody>
                        <tr>
                            <th style="width: 30%">Quiz Name:</th>
                            <td>{{ quiz.name }}</td>
                        </tr>
                        <tr>
                            <th>Subject:</th>
                            <td>{{ subject.name }}</td>
                        </tr>
                        <tr>
                            <th>Chapter:</th>
                            <td>{{ chapter.name }}</td>
                        </tr>
                        <tr>
                            <th>Date:</th>
                            <td>{{ score.attempt_date.strftime('%d %b, %Y') }}</td>
                        </tr>
                        <tr>
                            <th>Total Questions:</th>
                            <td>{{ score.total_questions }}</td>
                        </tr>
                        <tr>
                            <th>Time Taken:</th>
                            <td>{{ time_taken }}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        
        <div class="d-flex justify-content-center gap-3">
            <a href="{{ url_for('user.dashboard') }}" class="btn btn-primary">
                <i class="fas fa-home me-1"></i> Back to Dashboard
            </a>
            <a href="{{ url_for('user.scores') }}" class="btn btn-secondary">
                <i class="fas fa-list me-1"></i> View All Scores
            </a>
        </div>
    </div>
</div>
{% endblock %}
